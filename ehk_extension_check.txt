-- ffi setup 
local ffi = require("ffi") 
local C = ffi.C 
 
local function init() 
    DebugError("Wing Hotkeys: extension_check Init") 
	
	local extensions = GetExtensionList()
	local asto = false
	local auo = false
	
    for _,extension in ipairs(extensions) do
        if extension.id == "ws_2437198154" and tonumber(extension.version) >= 3.40 and extension.enabled == true then
            DebugError("Found Subsystem Targeting Orders")
			asto = true
        end
        if extension.id == "ws_2459574093" and tonumber(extension.version) >= 1.20 and extension.enabled == true then
            DebugError("Found Urgent Orders")
			auo = true
        end		
		if asto==true and auo==true then
			break
		end
    end
		
	if asto == true then
	    DebugError("Wing Hotkeys: Enabling support for Subsystem Targeting Orders")
	else
		DebugError("Wing Hotkeys: Subsystem Targeting Orders not found, disabling support")
	end

	if auo == true then
	    DebugError("Wing Hotkeys: Enabling support for Urgent Orders")
	else
		DebugError("Wing Hotkeys: Urgent Orders not found, disabling support")
	end
		
end 
 
init()